{"version":3,"file":"Tabs-64f4b63d.js","sources":["../../lib/components/Tabs.jsx"],"sourcesContent":["import style from './Tabs.module.scss'\n\nimport { Component } from '../jsx'\nimport { ensure, writable } from '../state'\n\nimport Toggles from './Toggles'\n\nexport default class Tabs extends Component {\n  static panel (children, props = {}) {\n    return (\n      <div\n        {...props}\n        class={[\n          style.tabs__panel,\n          ...(Array.isArray(props.class) ? props.class : [props.class])\n        ]}\n      >\n        {children}\n      </div>\n    )\n  }\n\n  beforeRender (props) {\n    this.update = this.update.bind(this)\n\n    this.state = {\n      value: ensure(writable)(props['store-value'], props.value ?? 0),\n      tabs: ensure(writable)(props['store-tabs'], props.tabs)\n    }\n  }\n\n  template (props, state) {\n    return (\n      <div\n        {...this.dataProps}\n        id={props.id}\n        class={[\n          style.tabs,\n          ...(Array.isArray(props.class) ? props.class : [props.class])\n        ]}\n      >\n        <Toggles\n          class={style.tabs__toggles}\n          store-value={state.value}\n          store-options={state.tabs}\n          event-change={props['event-change']}\n        />\n        <div\n          ref={this.ref('panels')}\n          class={style.tabs__panels}\n        >\n          {props.children}\n        </div>\n      </div>\n    )\n  }\n\n  afterRender () {\n    this.state.value.subscribe(this.update)\n    this.state.tabs.subscribe(this.update)\n    this.update()\n  }\n\n  update () {\n    const value = this.state.value.get()\n\n    for (let index = 0; index < this.refs.panels.children.length; index++) {\n      const panel = this.refs.panels.children[index]\n      if (!panel) continue\n      panel.classList.toggle('is-hidden', index !== value)\n    }\n  }\n\n  beforeDestroy () {\n    this.state.value.unsubscribe(this.update)\n    this.state.tabs.unsubscribe(this.update)\n  }\n}\n"],"names":["Tabs","Component","children","props","h","style","ensure","writable","state","Toggles","value","index","panel"],"mappings":"gVAOA,MAAqBA,UAAaC,CAAU,CAC1C,OAAO,MAAOC,EAAUC,EAAQ,GAAI,CAEhC,OAAAC,EAAC,MAAA,CACE,GAAGD,EACJ,MAAO,CACLE,EAAM,YACN,GAAI,MAAM,QAAQF,EAAM,KAAK,EAAIA,EAAM,MAAQ,CAACA,EAAM,KAAK,CAC7D,CAAA,EAECD,CAAA,CAGP,CAEA,aAAcC,EAAO,CACnB,KAAK,OAAS,KAAK,OAAO,KAAK,IAAI,EAEnC,KAAK,MAAQ,CACX,MAAOG,EAAOC,CAAQ,EAAEJ,EAAM,aAAa,EAAGA,EAAM,OAAS,CAAC,EAC9D,KAAMG,EAAOC,CAAQ,EAAEJ,EAAM,YAAY,EAAGA,EAAM,IAAI,CAAA,CAE1D,CAEA,SAAUA,EAAOK,EAAO,CAEpB,OAAAJ,EAAC,MAAA,CACE,GAAG,KAAK,UACT,GAAID,EAAM,GACV,MAAO,CACLE,EAAM,KACN,GAAI,MAAM,QAAQF,EAAM,KAAK,EAAIA,EAAM,MAAQ,CAACA,EAAM,KAAK,CAC7D,CAAA,EAEAC,EAACK,EAAA,CACC,MAAOJ,EAAM,cACb,cAAaG,EAAM,MACnB,gBAAeA,EAAM,KACrB,eAAcL,EAAM,cAAc,CAAA,CACpC,EACAC,EAAC,MAAA,CACC,IAAK,KAAK,IAAI,QAAQ,EACtB,MAAOC,EAAM,YAAA,EAEZF,EAAM,QACT,CAAA,CAGN,CAEA,aAAe,CACb,KAAK,MAAM,MAAM,UAAU,KAAK,MAAM,EACtC,KAAK,MAAM,KAAK,UAAU,KAAK,MAAM,EACrC,KAAK,OAAO,CACd,CAEA,QAAU,CACR,MAAMO,EAAQ,KAAK,MAAM,MAAM,IAAI,EAE1B,QAAAC,EAAQ,EAAGA,EAAQ,KAAK,KAAK,OAAO,SAAS,OAAQA,IAAS,CACrE,MAAMC,EAAQ,KAAK,KAAK,OAAO,SAASD,CAAK,EACxCC,GACLA,EAAM,UAAU,OAAO,YAAaD,IAAUD,CAAK,CACrD,CACF,CAEA,eAAiB,CACf,KAAK,MAAM,MAAM,YAAY,KAAK,MAAM,EACxC,KAAK,MAAM,KAAK,YAAY,KAAK,MAAM,CACzC,CACF"}