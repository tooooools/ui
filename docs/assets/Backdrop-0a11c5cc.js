import{C as i,h as a,c,n as t}from"./index-1cc398c4.js";const n="ui-backdrop-1epgy106",o={backdrop:n,"loader-spin":"ui-loader-spin-1epgy1"};class d extends i{beforeRender(e){this.close=this.close.bind(this),this.captureEscapeKey=this.captureEscapeKey.bind(this),this.state={lastActiveElement:document.activeElement}}template(e,r){return a("div",{id:e.id,class:c(o.backdrop,e.class),"event-click":s=>(e["event-click"]??t)(s,this)},e.children)}afterMount(){this.state.lastActiveElement&&this.state.lastActiveElement.blur(),window.addEventListener("keyup",this.captureEscapeKey),(this.props["event-open"]??t)(null,this)}captureEscapeKey(e){e.key==="Escape"&&this.close()}close(){(this.props["event-close"]||t)(null,this),this.destroy()}beforeDestroy(){if(!this.destroyed&&(window.removeEventListener("keyup",this.captureEscapeKey),this.state&&this.state.lastActiveElement)){const e=this.state.lastActiveElement;window.setTimeout(()=>e.focus(),0)}}}export{d as B};
//# sourceMappingURL=Backdrop-0a11c5cc.js.map
