{"version":3,"file":"Component-76bcf70c.js","sources":["../lib/jsx/h.js","../lib/jsx/utils/extend.js","../lib/utils/noop.js","../lib/utils/logger.js","../lib/jsx/utils/Collector.js","../lib/jsx/utils/setDomAttrib.js","../lib/jsx/utils/rawRender.js","../lib/jsx/utils/dispatch.js","../lib/jsx/render.js","../lib/jsx/Component.js"],"sourcesContent":["// Create a VNode (virtual DOM element)\n\nfunction h (type, props) {\n  const vn = {}\n\n  vn.vnode = true\n  vn.type = type\n  vn.props = props || {}\n  vn.children = [].concat.apply([], [].slice.call(arguments, 2)) // array & flatten\n\n  vn.isInstance = (\n    type &&\n\t\ttype.template &&\n\t\ttypeof type.template === 'function'\n  )\n\n  vn.isComponent = (\n    typeof type === 'function' &&\n\t\ttype.prototype &&\n\t\ttypeof type.prototype.render === 'function'\n  )\n\n  vn.isStateless = typeof type === 'function' && !vn.isComponent\n  vn.isDom = typeof type === 'string'\n\n  return vn\n}\n\nh.f = p => p.children\n\nexport default h\n","export default function extend (obj, nObj) {\n  for (const i in nObj) obj[i] = nObj[i]\n  return obj\n}\n","export default function () {}\n","import noop from '/lib/utils/noop'\n\nexport default function logger (prefix, color, background, mute) {\n  if (mute) return { log: noop, warn: noop, error: noop }\n\n  const pre = []\n  prefix = prefix.toUpperCase()\n\n  pre.push(`%c ${prefix} `)\n  let style = 'font-weight:bold;'\n  if (color) style += `color:${color};`\n  if (background) style += `background-color:${background}`\n  pre.push(style)\n\n  return {\n    log: console.log.bind(console, ...pre),\n    warn: console.warn.bind(console, ...pre),\n    error: console.error.bind(console, ...pre)\n  }\n}\n","\nconst TYPES = ['nodes', 'components', 'refs', 'domEvents', 'storeEvents']\n\nexport default class Collector {\n  constructor () {\n    this.data = {}\n    for (let i = 0; i < TYPES.length; i++) { this.data[TYPES[i]] = [] }\n  }\n\n  append (obj) {\n    for (const k in obj) { this.data[k] = this.data[k].concat(obj[k]) }\n  }\n\n  set (obj) {\n    for (const k in obj) { this.data[k] = obj[k] }\n  }\n\n  get () {\n    return this.data\n  }\n}\n","// Some portions of code are taken from preact\n// https://github.com/developit/preact/blob/master/src/dom/index.js\n\nimport extend from './extend'\n\nconst namespaces = [\n  'xlink',\n  'xmlns',\n  'xml'\n]\n\n// Some attribute doesn't work well when used online as node.attr = value\n// We double it with node.setAttribute\nconst doubleAttr = new Set([\n  'placeholder',\n  'autoplay',\n  'muted',\n  'for',\n  'webkit-playsinline',\n  'playsinline',\n  'selected'\n])\n\nlet val\n\nconst startsWith = (str, w) => str.substr(0, w.length) === w\nconst updateClass = n => (v, el) => el.classList.toggle(n, v || false)\nconst updateAttrib = (name = 'textContent', isSvg) => (v, el) => {\n  const ns = isSvg && (name !== (name = name.replace(/^xlink:?/, '')))\n  if (ns) el.setAttributeNS('http://www.w3.org/1999/xlink', name.toLowerCase(), v)\n  else {\n    if (v === undefined) {\n      el.removeAttribute(name)\n      return\n    }\n\n    val = v == null ? '' : v\n    if (!isSvg) el[name] = val\n    if (isSvg || doubleAttr.has(name) || startsWith(name, 'data-')) {\n      el.setAttribute(name, val)\n    }\n  }\n}\n\nfunction setDomAttrib (el, name, value, collector, isSvg) {\n  // Don't treat undefined value\n  if (value === undefined) return\n\n  // Ignore JSX sourcemap props\n  if (name === '__self' || name === '__source') return\n\n  // Normalize class attribute\n  if (name === 'className') name = 'class'\n\n  // Correct attribute like xlmns:xlink\n  for (let i = 0; i < namespaces.length; i++) {\n    if (startsWith(name, namespaces[i])) {\n      const len = namespaces[i].length\n      if (name[len] && name[len] !== ':') {\n        name = namespaces[i] + ':' + name[len].toLowerCase() + name.substr(len + 1, name.length)\n      }\n      break\n    }\n  }\n\n  // Ignored props\n  if (name === 'ref') {\n    //\n  } else if (startsWith(name, 'event-')) {\n    // Synthetic DOM Events\n    const eventName = name.toLowerCase().substring(6)\n    collector.append({ domEvents: [{ el, evt: eventName, fn: value }] })\n  } else if (name === 'store') {\n    const evts = Array.isArray(value) ? value : [value]\n    const events = []\n\n    for (let i = 0, l = evts.length; i < l; i++) {\n      const evt = Array.isArray(evts[i]) ? evts[i] : [evts[i]]\n      const store = evt[0]\n      const fn = evt[1]\n      const init = evt[2] !== undefined ? evt[2] : true\n      if (!store) continue\n      events.push({ store, fn, init, el })\n    }\n\n    collector.append({ storeEvents: events })\n  } else if (startsWith(name, 'store-class-')) {\n    const className = name.substring(12)\n    const fn = updateClass(className)\n    collector.append({ storeEvents: [{ store: value, init: true, fn, el }] })\n  } else if (startsWith(name, 'store-')) {\n    let attrib = name.substring(6)\n    if (attrib === 'text') attrib = 'textContent'\n    const fn = updateAttrib(attrib, isSvg)\n    collector.append({ storeEvents: [{ store: value, init: true, fn, el }] })\n  } else if (typeof value === 'function' && startsWith(name, 'on')) {\n\n    // Event attribute (usually do not use this, prefer the synthetic ones)\n    // const eventType = name.toLowerCase();\n    // el[ eventType ] = value;\n\n  } else if (name === 'class' && !isSvg) {\n    // Class - only for non-svg node\n    el.className = value || ''\n  } else if (name === 'style') {\n    // Style attribute\n    if (typeof value === 'object') extend(el.style, value)\n    else if (typeof value === 'string') el.style.cssText = value\n  } else if (name !== 'list' && name !== 'type' && !isSvg && name in el) {\n    // Attrib\n    // Attempt to set an attribute to the given value.\n    // IE & FF throw for certain property-value combinations.\n    try { updateAttrib(name, isSvg)(value, el) } catch (e) { /* */ }\n  } else if (typeof value !== 'object' && typeof value !== 'function') {\n    updateAttrib(name, isSvg)(value, el)\n  }\n}\n\nexport default setDomAttrib\n","\nimport Collector from './Collector'\nimport setDomAttrib from './setDomAttrib'\nimport extend from './extend'\n\nfunction arr (e) {\n  return Array.isArray(e) ? e : [e]\n}\n\n// ---- RAW RENDERER ----\nfunction rawRender (vdom, isSvg) {\n  if (Array.isArray(vdom)) return renderArray(vdom, isSvg)\n  if (vdom instanceof window.Element) return renderDirectDom(vdom, isSvg)\n\n  if (\n    vdom === null ||\n\t\ttypeof vdom !== 'object' ||\n\t\t!vdom.vnode\n  ) return renderPrimitive(vdom, isSvg)\n\n  // one-level deep flatten children array\n  const props = extend(\n    extend({}, vdom.props),\n    { children: [].concat.apply([], vdom.children || []) }\n  )\n\n  if (vdom.isDom) return renderDom(vdom, props, isSvg)\n  if (vdom.isInstance) return renderClass(vdom, props, isSvg, true)\n  if (vdom.isStateless) return renderStateless(vdom, props, isSvg)\n  if (vdom.isComponent) return renderClass(vdom, props, isSvg)\n}\n\n// ---- ARRAY ----\nfunction renderArray (vdoms, isSvg) {\n  vdoms = arr(vdoms)\n  const collector = new Collector()\n  for (let i = 0; i < vdoms.length; i++) { collector.append(rawRender(vdoms[i], isSvg)) }\n  return collector.get()\n}\n\n// ---- PRIMITIVE ----\nfunction renderPrimitive (vdom) {\n  const collector = new Collector()\n\n  if (vdom === null || vdom === undefined || vdom === false) return collector.get()\n  collector.append({ nodes: document.createTextNode(vdom + '') })\n  return collector.get()\n}\n\n// ---- DOM ----\nfunction renderDom (vdom, props, isSvg) {\n  // Render and collect vdom's children\n  const collector = new Collector()\n  let domChildren = []\n\n  if (vdom.type === 'svg') isSvg = true\n\n  for (let i = 0; i < props.children.length; i++) {\n    const result = rawRender(props.children[i], isSvg)\n    if (result.nodes) {\n      domChildren = domChildren.concat(result.nodes)\n      collector.append({\n        components: result.components,\n        refs: result.refs,\n        domEvents: result.domEvents,\n        storeEvents: result.storeEvents\n      })\n    }\n  }\n\n  // Create dom element\n  const el = isSvg\n    ? document.createElementNS('http://www.w3.org/2000/svg', vdom.type)\n    : document.createElement(vdom.type)\n\n  for (const k in vdom.props) { setDomAttrib(el, k, vdom.props[k], collector, isSvg) }\n\n  for (let i = 0; i < domChildren.length; i++) { el.appendChild(domChildren[i]) }\n\n  if (props.ref) collector.append({ refs: { ref: el, fn: props.ref } })\n  collector.append({ nodes: el })\n\n  return collector.get()\n}\n\n// ---- DIRECT DOM ----\nfunction renderDirectDom (vdom) {\n  const collector = new Collector()\n  collector.append({ nodes: vdom })\n  return collector.get()\n}\n\n// ---- STATELESS ----\nfunction renderStateless (_vdom, props, isSvg) {\n  const collector = new Collector()\n  const vdom = _vdom.type(props)\n  collector.append(rawRender(vdom, isSvg))\n  return collector.get()\n}\n\n// ---- CLASS ----\nfunction renderClass (_vdom, props, isSvg, isInstance = false) {\n  const collector = new Collector()\n\n  // instanciate it and call beforeRender\n\tconst instance = isInstance ? _vdom.type : new _vdom.type(props) // eslint-disable-line\n  if (isInstance) props = instance.props\n\n  instance.beforeRender(props)\n\n  const vdom = instance.template(props, instance.state || {}) || props.children\n\n  // append its own ref ? not sur if I need to do this here or in the collector reset\n  if (props.ref) collector.append({ refs: { ref: instance, fn: props.ref } })\n  collector.append(rawRender(vdom, isSvg))\n\n  // create a useful \"base\" property\n  const nodes = collector.data.nodes\n  instance.base = nodes.length > 1 ? nodes : nodes[0]\n\n  // collect all sub refs / components and add them to the instance's own collector\n  // instance._collector = {}\n\n  for (const k in collector.data) {\n    if (k === 'nodes') continue\n    if (!instance._collector[k]) instance._collector[k] = []\n    instance._collector[k] = instance._collector[k]\n      .concat(collector.data[k])\n  }\n\n  // reset the collector (collector.components only contains the current instance)\n  // used for possible parents and for correct didmount / refs dispatching\n  collector.set({\n    components: [instance],\n    refs: [],\n    domEvents: [],\n    storeEvents: []\n  })\n\n  // add a parent \"private\" property to each sub-components\n  for (let i = 0; i < instance._collector.components.length; i++) {\n    instance._collector.components[i]._parent = instance\n  }\n\n  return collector.get()\n}\n\nexport default rawRender\n","export function dispatch (component, cb, topDown) {\n  const subs = component._collector && component._collector.components\n  if (topDown) cb(component)\n  if (subs) {\n    for (let i = 0; i < subs.length; i++) dispatch(subs[i], cb)\n  }\n  if (!topDown) cb(component)\n}\n\nfunction callRefs (component) {\n  for (let i = 0; i < component._collector.refs.length; i++) {\n    component._collector.refs[i].fn(component._collector.refs[i].ref)\n    // Is this really needed or a good thing ?\n    component._collector.refs[i].ref = null\n  }\n}\n\nfunction callStoreListeners (component) {\n  for (let i = 0; i < component._collector.storeEvents.length; i++) {\n    const event = component._collector.storeEvents[i]\n    const oldfn = event.fn\n\t\tevent.fn = function ( v ) { oldfn( v, event.el ) }; // eslint-disable-line\n    event.store.subscribe(event.fn)\n    if (event.init) event.fn(event.store.current)\n  }\n}\n\nfunction callDomListeners (component) {\n  if (component.test) console.log('call dom listeners', component._collector.domEvents)\n  for (let i = 0; i < component._collector.domEvents.length; i++) {\n    const event = component._collector.domEvents[i]\n    event.el.addEventListener(event.evt, event.fn)\n  }\n}\n\nexport function dispatchRefs (component) {\n  dispatch(component, callRefs)\n}\n\nexport function dispatchListeners (component) {\n  dispatch(component, callDomListeners)\n  dispatch(component, callStoreListeners)\n}\n","import rawRender from './utils/rawRender'\nimport { dispatchListeners, dispatchRefs, dispatch } from './utils/dispatch'\n\nconst SvgTagNames = new Set([\n  'g',\n  'svg',\n  'defs'\n])\n\nexport default function render (vnode, parent = document.body, context) {\n  // render\n  let i = 0\n  const rendered = rawRender(vnode, parent && SvgTagNames.has(parent.tagName))\n\n  // dispatch callback refs\n  let mockComponent = { _collector: rendered } // for dispatch convenience\n  dispatchRefs(mockComponent)\n\n  // dispatch afterRender\n  dispatch(mockComponent, function (c) {\n    c.afterRender && c.afterRender(c.props)\n  })\n\n  // mount\n  if (typeof parent === 'function') {\n    const nodes = rendered.nodes.length < 2 ? rendered.nodes[0] : rendered.nodes\n    parent(nodes)\n  } else if (parent instanceof window.Element) {\n    for (i = 0; i < rendered.nodes.length; i++) {\n      parent.appendChild(rendered.nodes[i])\n    }\n  } else if (typeof parent === 'object' && parent !== null && parent.insertBefore) {\n    for (i = 0; i < rendered.nodes.length; i++) {\n      parent.insertBefore.parentNode.insertBefore(rendered.nodes[i], parent.insertBefore)\n    }\n  }\n\n  // This conditionnal avoids calling the dispatchers twice if\n  // the renders is made during before / after render\n  if (!context || context.mounted) {\n    // Dispatch listeners\n    dispatchListeners(mockComponent)\n\n    // dispatch afterMounts\n    dispatch(mockComponent, function (c) {\n      c.mounted = true\n      c.afterMount && c.afterMount(c.props)\n    })\n  }\n\n  // Add items to context\n  if (context && context._collector) {\n    const c = context._collector\n\n    for (i = 0; i < rendered.components.length; i++) {\n      rendered.components[i]._parent = context\n    }\n\n    if (c.refs) c.refs = c.refs.concat(rendered.refs)\n    if (c.components) c.components = c.components.concat(rendered.components)\n    if (c.domEvents) c.domEvents = c.domEvents.concat(rendered.domEvents)\n    if (c.storeEvents) c.storeEvents = c.storeEvents.concat(rendered.storeEvents)\n  }\n\n  mockComponent = undefined\n  return rendered\n}\n","import logger from '../utils/logger'\nimport _render from './render'\n\nexport default class Component {\n  constructor (props = {}) {\n    this._parent = null\n    this._collector = { refs: [], components: [], domEvents: [], storeEvents: [] }\n    this._storeListeners = []\n\n    this.refs = {}\n    this.state = {}\n    this.store = {}\n\n    // Contains all component properties and children.\n    // Do not modify it directly, recreate a new component using `cloneElement`\n    this.props = props || {}\n\n    // HTMLElement used as \"base\" for the component instance.\n    // Can also be an array of elements if `template` return an array.\n    this.base = null\n\n    // Set to true when component is mounted\n    this.mounted = false\n\n    // Set to true when component is destroyed\n    this.destroyed = false\n\n    const label = props.name || this.constructor.name || 'Component'\n    const { log, warn, error } = logger(\n      label,\n      'white',\n      '#000',\n      props.disableLog\n    )\n\n    this.log = log\n    this.warn = warn\n    this.error = error\n  }\n\n  get dataProps () {\n    return Object.entries(this.props)\n      .filter(([attr]) => attr.startsWith('data-'))\n      .reduce((acc, [attr, value]) => ({ ...acc, [attr]: value }), {})\n  }\n\n  storeSubscribe (store, method, context, init = true) {\n    store.subscribe(method, context)\n    this._storeListeners.push([store, method, context])\n    if (init) method.call(context, store.current)\n  }\n\n  // `component.template` will be called during the component\n  // initial rendering to create the `component.base` node\n  // You can return real dom or jsx\n  template () {}\n\n  // `component.beforeRender` will be called by `render`\n  // just before the component template rendering\n  beforeRender () {}\n\n  // `component.afterRender` will be called by `render`\n  // when all the rendered dom tree is rendered\n  afterRender () {}\n\n  // `component.afterMount` will be called by `render`\n  // when all the rendered dom tree is mounted\n  afterMount () {}\n\n  // `component.beforeDestroy` will be called\n  // when the component or one of its ancestors is destroyed\n  beforeDestroy () {}\n\n  // Quickly add ref to component\n  ref (k) {\n    const self = this\n    return function updateRef (el) {\n      self.refs[k] = el\n    }\n  }\n\n  // Quickly add ref to an array of component refs\n  refArray (k, poolable = false) {\n    const arr = this.refs[k] || (this.refs[k] = [])\n    let index = arr.length\n    let pools, pool\n\n    if (poolable) {\n      pools = this.refs.__pools || (this.refs.__pools = {})\n      pool = pools[k] || (pools[k] = [])\n      if (pool.length) index = pool.pop()\n    }\n\n    arr[index] = null\n\n    return function updateRefArray (el) {\n      arr[index] = el\n      if (poolable) pool.push(index)\n    }\n  }\n\n  // Quickly add ref to a hashmap of component refs\n  refMap (id, k) {\n    const map = this.refs[k] || (this.refs[k] = new Map())\n    return function updateRefHashmap (el) {\n      if (el) map.set(id, el)\n      else map.delete(id)\n    }\n  }\n\n  // Render a vnode or array of vnodes\n  // and register the rendered content as \"child\" of this component.\n  // Use this method when you want to add content to the component\n  // after the initial rendering. This ensures new items will be\n  // correctly unmount when the component is destroyed.\n  render (vdom, parent) {\n    return _render(vdom, parent, this)\n  }\n\n  // Destroy the component and its children components.\n  // - This also removes component props and de-reference it from its parent.\n  // - Callback refs inside the component tree will be re-called with `null`\n  // - Set component.mounted to false\n  destroy () {\n    let i = 0\n    this.beforeDestroy(this.props)\n\n    // Unlisten to dom events\n    for (i = this._collector.domEvents.length - 1; i >= 0; i--) {\n      const event = this._collector.domEvents[i]\n      event.el.removeEventListener(event.evt, event.fn)\n    }\n\n    // Unlisten to store events\n    for (i = this._collector.storeEvents.length - 1; i >= 0; i--) {\n      const event = this._collector.storeEvents[i]\n      event.store.unsubscribe(event.fn)\n    }\n\n    // Unlisten to store events 2\n    for (i = this._storeListeners.length - 1; i >= 0; i--) {\n      const event = this._storeListeners[i]\n      event[0].unsubscribe(event[1], event[2])\n    }\n\n    // destroy subcomponents\n    for (i = this._collector.components.length - 1; i >= 0; i--) {\n      this._collector.components[i].destroy()\n    }\n\n    this.mounted = false\n    this.destroyed = true\n\n    // unregister component from parent and dispose _parent\n    if (this._parent) {\n      const index = this._parent._collector.components.indexOf(this)\n      if (~index) this._parent._collector.components.splice(index, 1)\n      this._parent = null\n    }\n\n    // callback all ref with null and destroy them from the collector\n    for (i = this._collector.refs.length - 1; i >= 0; i--) {\n      this._collector.refs[i].fn(null)\n      this._collector.refs.splice(i, 1)\n    }\n\n    // Unmount from dom\n    let base = Array.isArray(this.base) ? this.base : [this.base]\n    for (i = 0; i < base.length; i++) {\n      if (base[i] && base[i].parentNode) base[i].parentNode.removeChild(base[i])\n    }\n\n    // Remove base\n    this.base = base = null\n\n    // Remove props / state / store / refs to avoid memory leaks\n    this.props = null\n    this.state = null\n    this.store = null\n    this.refs = null\n    this._storeListeners = null\n  }\n}\n"],"names":["h","type","props","vn","p","extend","obj","nObj","i","noop","logger","prefix","color","background","mute","pre","style","TYPES","Collector","k","namespaces","doubleAttr","val","startsWith","str","w","updateClass","n","v","el","updateAttrib","name","isSvg","setDomAttrib","value","collector","len","eventName","evts","events","evt","store","fn","init","className","attrib","arr","e","rawRender","vdom","renderArray","renderDirectDom","renderPrimitive","renderDom","renderClass","renderStateless","vdoms","domChildren","result","_vdom","isInstance","instance","nodes","dispatch","component","cb","topDown","subs","callRefs","callStoreListeners","event","oldfn","callDomListeners","dispatchRefs","dispatchListeners","SvgTagNames","render","vnode","parent","context","rendered","mockComponent","c","Component","label","log","warn","error","attr","acc","method","self","poolable","index","pools","pool","id","map","_render","base"],"mappings":"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"}