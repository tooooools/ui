{"version":3,"file":"Tabs-38dca8f0.js","sources":["../../lib/components/Tabs.jsx"],"sourcesContent":["import style from './Tabs.module.scss'\n\nimport { Component } from '../jsx'\nimport { ensure, writable } from '../state'\n\nimport classnames from 'classnames'\n\nimport Toggles from './Toggles'\n\nexport default class Tabs extends Component {\n  static panel (children, props) {\n    return <div class={style.tabs__panel} {...props}>{children}</div>\n  }\n\n  beforeRender (props) {\n    this.update = this.update.bind(this)\n\n    this.state = {\n      value: ensure(writable)(props['store-value'], props.value ?? 0),\n      tabs: ensure(writable)(props['store-tabs'], props.tabs)\n    }\n  }\n\n  template (props, state) {\n    return (\n      <div\n        id={props.id}\n        class={classnames(style.tabs, props.class)}\n      >\n        <Toggles\n          class={style.tabs__toggles}\n          store-value={state.value}\n          store-options={state.tabs}\n          event-change={props['event-change']}\n        />\n        <div\n          ref={this.ref('panels')}\n          class={style.tabs__panels}\n        >\n          {props.children}\n        </div>\n      </div>\n    )\n  }\n\n  afterRender () {\n    this.state.value.subscribe(this.update)\n    this.state.tabs.subscribe(this.update)\n    this.update()\n  }\n\n  update () {\n    const value = this.state.value.get()\n\n    for (let index = 0; index < this.refs.panels.children.length; index++) {\n      const panel = this.refs.panels.children[index]\n      if (!panel) continue\n      panel.classList.toggle('is-hidden', index !== value)\n    }\n  }\n\n  beforeDestroy () {\n    this.state.value.unsubscribe(this.update)\n    this.state.tabs.unsubscribe(this.update)\n  }\n}\n"],"names":["Tabs","Component","children","props","style","ensure","writable","state","h","classnames","Toggles","value","index","panel"],"mappings":"wXASA,MAAqBA,UAAaC,CAAU,CAC1C,OAAO,MAAOC,EAAUC,EAAO,CAC7B,SAAQ,MAAI,CAAA,MAAOC,EAAM,YAAc,GAAGD,GAAQD,CAAS,CAC7D,CAEA,aAAcC,EAAO,CACnB,KAAK,OAAS,KAAK,OAAO,KAAK,IAAI,EAEnC,KAAK,MAAQ,CACX,MAAOE,EAAOC,CAAQ,EAAEH,EAAM,aAAa,EAAGA,EAAM,OAAS,CAAC,EAC9D,KAAME,EAAOC,CAAQ,EAAEH,EAAM,YAAY,EAAGA,EAAM,IAAI,CAAA,CAE1D,CAEA,SAAUA,EAAOI,EAAO,CAEpB,OAAAC,EAAC,MAAA,CACC,GAAIL,EAAM,GACV,MAAOM,EAAWL,EAAM,KAAMD,EAAM,KAAK,CAAA,EAEzCK,EAACE,EAAA,CACC,MAAON,EAAM,cACb,cAAaG,EAAM,MACnB,gBAAeA,EAAM,KACrB,eAAcJ,EAAM,cAAc,CAAA,CACpC,EACAK,EAAC,MAAA,CACC,IAAK,KAAK,IAAI,QAAQ,EACtB,MAAOJ,EAAM,YAAA,EAEZD,EAAM,QACT,CAAA,CAGN,CAEA,aAAe,CACb,KAAK,MAAM,MAAM,UAAU,KAAK,MAAM,EACtC,KAAK,MAAM,KAAK,UAAU,KAAK,MAAM,EACrC,KAAK,OAAO,CACd,CAEA,QAAU,CACR,MAAMQ,EAAQ,KAAK,MAAM,MAAM,IAAI,EAE1B,QAAAC,EAAQ,EAAGA,EAAQ,KAAK,KAAK,OAAO,SAAS,OAAQA,IAAS,CACrE,MAAMC,EAAQ,KAAK,KAAK,OAAO,SAASD,CAAK,EACxCC,GACLA,EAAM,UAAU,OAAO,YAAaD,IAAUD,CAAK,CACrD,CACF,CAEA,eAAiB,CACf,KAAK,MAAM,MAAM,YAAY,KAAK,MAAM,EACxC,KAAK,MAAM,KAAK,YAAY,KAAK,MAAM,CACzC,CACF"}