{"version":3,"file":"Modal-724adbaa.js","sources":["../../lib/components/Modal.jsx"],"sourcesContent":["import style from './Modal.module.scss'\n\nimport { Component } from '../jsx'\nimport { ensure, writable } from '../state'\n\nimport noop from '../utils/noop'\n\nimport Button from './Button'\nimport Backdrop from './Backdrop'\nimport IconClose from 'iconoir/icons/cancel.svg?raw'\n\nexport default class Modal extends Component {\n  beforeRender (props) {\n    this.handleClick = this.handleClick.bind(this)\n    this.handleClose = this.handleClose.bind(this)\n\n    this.state = {\n      title: ensure(writable)(props['store-title'], props.title),\n      tabs: ensure(writable)(props['store-tabs'], props.tabs),\n      locked: ensure(writable)(props['store-locked'], props.locked)\n    }\n  }\n\n  template (props, state) {\n    return (\n      <Backdrop\n        ref={this.ref('backdrop')}\n        store-locked={state.locked}\n        event-open={props['event-open']}\n        event-close={props['event-close']}\n        event-click={this.handleClick}\n      >\n        <div\n          {...this.dataProps}\n          id={props.id}\n          class={[\n            style.modal,\n            ...(Array.isArray(props.class) ? props.class : [props.class])\n          ]}\n          event-mouseenter={e => (props['event-mouseenter'] ?? noop)(e, this)}\n          event-mouseleave={e => (props['event-mouseleave'] ?? noop)(e, this)}\n        >\n          <header class={style.modal__header}>\n            <Button\n              class={style.modal__title}\n              icon={props.icon}\n              store-label={state.title}\n            />\n            <Button\n              class={style.modal__close}\n              icon={IconClose}\n              store-hidden={state.locked}\n              event-click={this.handleClose}\n            />\n          </header>\n\n          <div class={style.modal__content}>\n            {props.children}\n          </div>\n        </div>\n      </Backdrop>\n    )\n  }\n\n  handleClick (e) {\n    if (e.target === this.base) this.handleClose()\n  }\n\n  handleClose () {\n    if (this.state.locked.get()) return\n    this.refs.backdrop.close()\n  }\n}\n"],"names":["Modal","Component","props","ensure","writable","state","h","Backdrop","style","e","noop","Button","IconClose"],"mappings":"0ZAWA,MAAqBA,UAAcC,CAAU,CAC3C,aAAcC,EAAO,CACnB,KAAK,YAAc,KAAK,YAAY,KAAK,IAAI,EAC7C,KAAK,YAAc,KAAK,YAAY,KAAK,IAAI,EAE7C,KAAK,MAAQ,CACX,MAAOC,EAAOC,CAAQ,EAAEF,EAAM,aAAa,EAAGA,EAAM,KAAK,EACzD,KAAMC,EAAOC,CAAQ,EAAEF,EAAM,YAAY,EAAGA,EAAM,IAAI,EACtD,OAAQC,EAAOC,CAAQ,EAAEF,EAAM,cAAc,EAAGA,EAAM,MAAM,CAAA,CAEhE,CAEA,SAAUA,EAAOG,EAAO,CAEpB,OAAAC,EAACC,EAAA,CACC,IAAK,KAAK,IAAI,UAAU,EACxB,eAAcF,EAAM,OACpB,aAAYH,EAAM,YAAY,EAC9B,cAAaA,EAAM,aAAa,EAChC,cAAa,KAAK,WAAA,EAElBI,EAAC,MAAA,CACE,GAAG,KAAK,UACT,GAAIJ,EAAM,GACV,MAAO,CACLM,EAAM,MACN,GAAI,MAAM,QAAQN,EAAM,KAAK,EAAIA,EAAM,MAAQ,CAACA,EAAM,KAAK,CAC7D,EACA,mBAAwBO,IAAAP,EAAM,kBAAkB,GAAKQ,GAAMD,EAAG,IAAI,EAClE,mBAAwBA,IAAAP,EAAM,kBAAkB,GAAKQ,GAAMD,EAAG,IAAI,CAAA,EAEjEH,EAAA,SAAA,CAAO,MAAOE,EAAM,aACnB,EAAAF,EAACK,EAAA,CACC,MAAOH,EAAM,aACb,KAAMN,EAAM,KACZ,cAAaG,EAAM,KAAA,CAAA,EAErBC,EAACK,EAAA,CACC,MAAOH,EAAM,aACb,KAAMI,EACN,eAAcP,EAAM,OACpB,cAAa,KAAK,WAAA,CAAA,CAEtB,IAEC,MAAI,CAAA,MAAOG,EAAM,cAAA,EACfN,EAAM,QACT,CACF,CAAA,CAGN,CAEA,YAAa,EAAG,CACV,EAAE,SAAW,KAAK,MAAM,KAAK,YAAY,CAC/C,CAEA,aAAe,CACT,KAAK,MAAM,OAAO,IAAI,GACrB,KAAA,KAAK,SAAS,OACrB,CACF"}