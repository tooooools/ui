import{C as i,e as a,w as c,h as n,n as t}from"./ensure-4e62e800.js";const r="ui-backdrop-136kk114",l={backdrop:r,"loader-spin":"ui-loader-spin-136kk1"};class u extends i{beforeRender(e){this.close=this.close.bind(this),this.captureEscapeKey=this.captureEscapeKey.bind(this),this.state={lastActiveElement:document.activeElement,locked:a(c)(e["store-locked"],e.locked)}}template(e,d){return n("div",{...this.dataProps,id:e.id,class:[l.backdrop,...Array.isArray(e.class)?e.class:[e.class]],"event-click":s=>(e["event-click"]??t)(s,this)},e.children)}afterMount(){this.state.lastActiveElement&&this.state.lastActiveElement.blur(),window.addEventListener("keyup",this.captureEscapeKey),(this.props["event-open"]??t)(null,this)}captureEscapeKey(e){e.key==="Escape"&&this.close()}close(){this.state.locked.get()||((this.props["event-close"]||t)(null,this),!this.destroyed&&this.destroy())}beforeDestroy(){if(!this.destroyed&&(window.removeEventListener("keyup",this.captureEscapeKey),this.state&&this.state.lastActiveElement)){const e=this.state.lastActiveElement;window.setTimeout(()=>e.focus(),0)}}}export{u as B};
//# sourceMappingURL=Backdrop-32c9f478.js.map
