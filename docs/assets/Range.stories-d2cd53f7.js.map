{"version":3,"file":"Range.stories-d2cd53f7.js","sources":["../../node_modules/debounce/index.js","../../lib/components/Range.jsx"],"sourcesContent":["/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing. The function also has a property 'clear' \n * that is a function which will clear the timer to prevent previously scheduled executions. \n *\n * @source underscore.js\n * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n * @param {Function} function to wrap\n * @param {Number} timeout in ms (`100`)\n * @param {Boolean} whether to execute at the beginning (`false`)\n * @api public\n */\nfunction debounce(func, wait, immediate){\n  var timeout, args, context, timestamp, result;\n  if (null == wait) wait = 100;\n\n  function later() {\n    var last = Date.now() - timestamp;\n\n    if (last < wait && last >= 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n      if (!immediate) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n    }\n  };\n\n  var debounced = function(){\n    context = this;\n    args = arguments;\n    timestamp = Date.now();\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n\n  debounced.clear = function() {\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n  \n  debounced.flush = function() {\n    if (timeout) {\n      result = func.apply(context, args);\n      context = args = null;\n      \n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n\n  return debounced;\n};\n\n// Adds compatibility for ES modules\ndebounce.debounce = debounce;\n\nmodule.exports = debounce;\n","import style from './Range.module.scss'\n\nimport { Component } from '../jsx'\nimport { ensure, writable } from '../state'\n\nimport noop from '../utils/noop'\nimport classnames from 'classnames'\nimport { debounce } from 'debounce'\n\nexport default class Range extends Component {\n  beforeRender (props) {\n    this.handleInput = props.debounce\n      ? debounce(this.handleInput.bind(this), props.debounce)\n      : this.handleInput.bind(this)\n\n    this.state = {\n      label: ensure(writable)(props['store-label'], props.label),\n      title: ensure(writable)(props['store-title'], props.title),\n\n      value: ensure(writable)(props['store-value'], props.value),\n      min: ensure(writable)(props['store-min'], props.min),\n      max: ensure(writable)(props['store-max'], props.max),\n      step: ensure(writable)(props['store-step'], props.step),\n\n      disabled: ensure(writable)(props['store-disabled'], props.disabled),\n      hidden: ensure(writable)(props['store-hidden'], props.hidden)\n    }\n  }\n\n  template (props, state) {\n    return (\n      <div\n        id={props.id}\n        class={classnames(style.range, props.class)}\n        store-class-is-disabled={state.disabled}\n        store-class-is-hidden={state.hidden}\n        event-mouseenter={e => (props['event-mouseenter'] ?? noop)(e, this)}\n        event-mouseleave={e => (props['event-mouseleave'] ?? noop)(e, this)}\n      >\n        {props.icon && (\n          <span\n            ref={this.ref('icon')}\n            class={style.range__icon}\n            innerHTML={props.icon}\n          />\n        )}\n        <input\n          ref={this.ref('input')}\n          type='range'\n          store-min={state.min}\n          store-max={state.max}\n          store-step={state.step}\n          store-title={state.title}\n          store-value={state.value}\n          store-disabled={state.disabled}\n          event-input={this.handleInput}\n        />\n        <label class={style.range__label} store-text={state.label} />\n      </div>\n    )\n  }\n\n  async handleInput (e) {\n    await (this.props['event-input'] ?? noop)(e, this)\n    this.state.value.set(+this.refs.input.value)\n  }\n}\n"],"names":["debounce","func","wait","immediate","timeout","args","context","timestamp","result","later","last","debounced","callNow","debounce_1","Range","Component","props","ensure","writable","state","h","classnames","style","e","noop"],"mappings":"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","x_google_ignoreList":[0]}