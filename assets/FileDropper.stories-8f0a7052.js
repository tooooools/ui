import{C as g,w as s,h as t,n as f,r as u}from"./ensure-4e62e800.js";import{B as v}from"./Button-01764f60.js";import{M as c}from"./Modal-724adbaa.js";import{I as D}from"./circle-8871eb28.js";import"./Backdrop-32c9f478.js";import"./cancel-cdf39661.js";const m={"file-dropper":"ui-file-dropper-180gr114","is-dragged-over":"is-dragged-over","loader-spin":"ui-loader-spin-180gr1"};class b extends g{beforeRender(e){this.handleDragStart=this.handleDragStart.bind(this),this.handleDragEnd=this.handleDragEnd.bind(this),this.handleDrop=this.handleDrop.bind(this),this.state={appliedTo:s(void 0),draggedOver:s(!1),files:s(null)}}template(e,r){return t("div",{...this.dataProps,id:e.id,class:[m["file-dropper"],{"is-dragged-over":r.draggedOver},...Array.isArray(e.class)?e.class:[e.class]]},e.children.length>0?e.children:e.icon||e.label?t(v,{icon:e.icon,label:e.label,tabIndex:-1}):null)}afterMount(e){this.state.appliedTo=this.base.offsetParent??document.body,this.state.appliedTo.addEventListener("dragover",this.handleDragStart),this.state.appliedTo.addEventListener("dragenter",this.handleDragStart),this.state.appliedTo.addEventListener("dragleave",this.handleDragEnd),this.state.appliedTo.addEventListener("dragend",this.handleDragEnd),this.state.appliedTo.addEventListener("drop",this.handleDrop)}get isVisible(){return this.base.offsetParent!==null}handleDragStart(e){this.isVisible&&e.dataTransfer.types.includes("Files")&&(e.preventDefault(),e.stopPropagation(),this.state.draggedOver.set(!0))}handleDrop(e){if(this.isVisible){if(!e.dataTransfer.types.includes("Files")){this.state.files.set(null);return}e.preventDefault(),e.stopPropagation(),this.state.files.set(e.dataTransfer.files),(this.props["event-drop"]??f)(e,this),this.handleDragEnd(e)}}handleDragEnd(e){if(this.isVisible){if(!e.dataTransfer.types.includes("Files")){this.state.files.set(null);return}e.preventDefault(),e.stopPropagation(),this.state.draggedOver.set(!1)}}beforeDestroy(){var e,r,n,d,l;(e=this.state.appliedTo)==null||e.removeEventListener("dragover",this.handleDragStart),(r=this.state.appliedTo)==null||r.removeEventListener("dragenter",this.handleDragStart),(n=this.state.appliedTo)==null||n.removeEventListener("dragleave",this.handleDragEnd),(d=this.state.appliedTo)==null||d.removeEventListener("dragend",this.handleDragEnd),(l=this.state.appliedTo)==null||l.removeEventListener("drop",this.drop)}}const F={title:"Inputs/<FileDropper>",render:i=>u(t(c,{title:"Drop your file"},t("p",{},"Drop your file here"),t(b,i)),null).nodes[0],argTypes:{icon:{type:"string",description:"`store-`"},label:{type:"string",description:"`store-`"},id:{type:"string"},class:{type:"string"},"event-drop":{action:"event-drop"}}},a={args:{icon:D,label:"drop your file here"}};var o,p,h;a.parameters={...a.parameters,docs:{...(o=a.parameters)==null?void 0:o.docs,source:{originalSource:`{
  args: {
    icon: Icon,
    label: 'drop your file here'
  }
}`,...(h=(p=a.parameters)==null?void 0:p.docs)==null?void 0:h.source}}};const I=["Primary"];export{a as Primary,I as __namedExportsOrder,F as default};
//# sourceMappingURL=FileDropper.stories-8f0a7052.js.map
